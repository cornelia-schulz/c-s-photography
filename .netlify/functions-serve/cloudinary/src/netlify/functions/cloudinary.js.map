{
  "version": 3,
  "sources": ["../../../../../../Users/corneliaschulz/workspace/c-s-photography/netlify/functions/cloudinary.js"],
  "sourceRoot": "/var/folders/rc/j1_1tngj189fg1rw1c798y2h0000gn/T/tmp-28506-KWGIurc3H6u3",
  "sourcesContent": ["\n\nexports.handler = async (event, context) => {\n  const params = { expression: 'folder=\"Cornelia Schulz Photography/galleries\"'}\n  \n  let paramString = null\n  if (Object){\n    paramString = Object.keys(params).map(key => `${key}=${encodeURIComponent(params[key])}`).join('&')\n  }\n  console.log('parameters: ', paramString);\n\n  try {\n    // const response = await fetch(API_ENDPOINT);\n    // const data = await response.json();\n    // return { statusCode: 200, body: JSON.stringify({ data }) };\n\n    const results = await fetch(`https://api.cloudinary.com/v1_1/${process.env.CLOUDINARY_CLOUD_NAME}/resources/search?${paramString}`, {\n      headers: {\n        Authorization: `Basic ${Buffer.from(process.env.CLOUDINARY_API_KEY + ':' + process.env.CLOUDINARY_API_SECRET).toString('base64')}`\n      }\n    }).then(r => r.json())\n  \n    return { statusCode: 200, body: JSON.stringify({results})};\n\n  } catch (error) {\n    console.log(error);\n    return {\n      statusCode: 500,\n      body: JSON.stringify({ error: 'Failed fetching data' }),\n    };\n  }\n};"],
  "mappings": ";AAEA,QAAQ,UAAU,OAAO,OAAO,YAAY;AAC1C,QAAM,SAAS,EAAE,YAAY,iDAAgD;AAE7E,MAAI,cAAc;AAClB,MAAI,QAAO;AACT,kBAAc,OAAO,KAAK,MAAM,EAAE,IAAI,SAAO,GAAG,OAAO,mBAAmB,OAAO,IAAI,GAAG,EAAE,KAAK,GAAG;AAAA,EACpG;AACA,UAAQ,IAAI,gBAAgB,WAAW;AAEvC,MAAI;AAKF,UAAM,UAAU,MAAM,MAAM,mCAAmC,QAAQ,IAAI,0CAA0C,eAAe;AAAA,MAClI,SAAS;AAAA,QACP,eAAe,SAAS,OAAO,KAAK,QAAQ,IAAI,qBAAqB,MAAM,QAAQ,IAAI,qBAAqB,EAAE,SAAS,QAAQ;AAAA,MACjI;AAAA,IACF,CAAC,EAAE,KAAK,OAAK,EAAE,KAAK,CAAC;AAErB,WAAO,EAAE,YAAY,KAAK,MAAM,KAAK,UAAU,EAAC,QAAO,CAAC,EAAC;AAAA,EAE3D,SAAS,OAAP;AACA,YAAQ,IAAI,KAAK;AACjB,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAO,uBAAuB,CAAC;AAAA,IACxD;AAAA,EACF;AACF;",
  "names": []
}
